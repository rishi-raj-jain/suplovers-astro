---
import { ViewTransitions } from "astro:transitions";
import NavBar from "../components/NavBar.astro";
import Footer from "../components/Footer.astro";
import BaseHead from "../components/BaseHead.astro";
import { getLangFromUrl } from "../i18n/utils";

import "../styles/global.css";

const {
  data: { title, description, image = "/og-image.jpg" },
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const lang = getLangFromUrl(Astro.url);
---

<html lang={lang}>
  <head>
    <BaseHead
      title={title}
      description={description}
      canonicalURL={canonicalURL}
      image={image}
    />

    <ViewTransitions />
  </head>
  <body class="font-paragraphs">
    <NavBar />
    <slot />
    <Footer />
  </body>
</html>
